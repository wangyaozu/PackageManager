<Window x:Class="PackageManager.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PackageManager"
        xmlns:C="clr-namespace:CustomControlLibrary.CustomControl.Controls.DataGrid;assembly=CustomControlLibrary"
        xmlns:controls="clr-namespace:CustomControlLibrary.CustomControl.Controls;assembly=CustomControlLibrary"
        xmlns:button="clr-namespace:CustomControlLibrary.CustomControl.Controls.Button;assembly=CustomControlLibrary"
        xmlns:views="clr-namespace:PackageManager.Views"
        mc:Ignorable="d"
        Title="包管理器" Height="700" Width="1400" MinWidth="960"
        Icon="/Assets/Icons/App.ico"
        ResizeMode="CanResize" WindowStartupLocation="CenterScreen" AllowDrop="True">
    <Window.Resources>
    </Window.Resources>

    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <Grid Grid.Row="0" Margin="0,0,0,12">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="260" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <controls:CTextBlock Grid.Column="0" Text="产品包管理器" FontSize="20" FontWeight="Bold" VerticalAlignment="Center" />
            <TextBox Grid.Column="1" x:Name="SearchBox" Height="28" Margin="16,0,0,0" Visibility="Hidden" />
            <StackPanel Grid.Column="2" Orientation="Horizontal" HorizontalAlignment="Right">
                <button:CButton Content="刷新" Margin="0,0,8,0" Padding="10,6" Click="RefreshButton_Click" />
                <button:CButton Content="筛选" Margin="0,0,8,0" Padding="10,6" Click="FilterButton_Click" />
                <!-- <button:CButton Content="设置" Margin="0,0,8,0" Padding="10,6" Click="SettingsButton_Click" /> -->
                <!-- <button:CButton Content="路径" Margin="0,0,8,0" Padding="10,6" Click="LocalPathSettingsButton_Click" /> -->
                <!-- <button:CButton Content="日志" Padding="10,6" Click="OpenLogViewerButton_Click" /> -->
                <!-- <button:CButton Content="产品日志" Margin="8,0,0,0" Padding="10,6" Click="OpenProductLogButton_Click" /> -->

                <!-- 常用网址导航 -->
                <controls:CComboBox x:Name="CommonLinksCombo"
                                    Width="220"
                                    Height="30"
                                    Margin="12,0,0,0"
                                    ItemsSource="{Binding CommonLinks}"
                                    DisplayMemberPath="Name"
                                    SelectedItem="{Binding SelectedCommonLink, Mode=TwoWay}" />
                <button:CButton Content="打开" Margin="8,0,0,0" Padding="10,6" Click="OpenSelectedLinkButton_Click" />
            </StackPanel>
        </Grid>

    <Grid Grid.Row="1">
        <Grid.ColumnDefinitions>
                <ColumnDefinition Width="240" />
                <ColumnDefinition Width="6" />
                <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

            <!-- 左侧导航面板 -->
            <views:NavigationPanel x:Name="LeftNavPanel" Grid.Column="0" />

            <!-- 左侧与中间的分隔条 -->
            <GridSplitter Grid.Column="1"
                          Width="6"
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Stretch"
                          Background="#22000000" />

            <!-- 中央内容区：统一使用 Page，通过 Frame 载入 -->
            <Frame x:Name="CentralFrame"
                   Grid.Column="2"
                   NavigationUIVisibility="Hidden"
                   Background="Transparent" />
        </Grid>

        <StatusBar Grid.Row="2" Margin="0,12,0,0">
            <StatusBarItem>
                <controls:CTextBlock Text="{Binding LatestActivePackage.StatusText, FallbackValue=就绪, TargetNullValue=就绪}" />
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>
